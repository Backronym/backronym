(this.webpackJsonpbackronyms=this.webpackJsonpbackronyms||[]).push([[0],{26:function(e,t,a){e.exports=a(53)},31:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),s=(a(31),a(2)),l=a(3),i=a(5),u=a(4),m=a(25),d=function(e){return r.a.createElement("div",{className:"word"},r.a.createElement("div",null,r.a.createElement("button",{className:"chooseWord primeButton",onClick:e.reject},"Reject"),r.a.createElement("button",{className:"chooseWord secondarySButton",onClick:e.accept},"Accept")),r.a.createElement("div",null,r.a.createElement("h2",null,e.word)))},p=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={frequencyAverage:0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=(e=this.props.frequency).reduce((function(e,t){return e+t}),0)/e.length;this.setState({frequencyAverage:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"frequency"},r.a.createElement("h5",null,"This backronym frequency is:"),r.a.createElement("p",null,r.a.createElement("span",null,this.state.frequencyAverage)," out of a Million"))}}]),a}(n.Component),h=a(9),y=a.n(h);a(32),a(34);y.a.initializeApp({apiKey:"AIzaSyD09HbLD6nsxKX0n6NKDf8NyZru7CTrxng",authDomain:"backronym-generator.firebaseapp.com",databaseURL:"https://backronym-generator.firebaseio.com",projectId:"backronym-generator",storageBucket:"backronym-generator.appspot.com",messagingSenderId:"125883152942",appId:"1:125883152942:web:d2dd801b6d1586c4d43dbf"});var f=y.a,b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).remove=function(e){f.database().ref("displayBoard").child(e).remove()},e.state={database:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("displayBoard").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({key:r,data:a[r]});e.setState({database:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"display"},r.a.createElement("div",{className:"displayGap"},r.a.createElement("ul",null,this.state.database.map((function(t){return r.a.createElement("li",{key:t.key},r.a.createElement("button",{onClick:function(){return e.remove(t.key)}},r.a.createElement("span",null,"\xd7")),r.a.createElement("h6",null,"".concat(t.data.word,":")),r.a.createElement("p",null,t.data.backronym))})),r.a.createElement("p",{id:"display"}))))}}]),a}(n.Component),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).remove=function(e){f.database().ref("userCollection").child(e).remove()},n.state={database:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("userCollection").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({key:r,data:a[r]});e.setState({database:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"userCollection display"},r.a.createElement("div",{className:"displayGap"},r.a.createElement("ul",null,this.state.database.filter((function(t){return t.data.email===e.props.userEmail})).map((function(t){return r.a.createElement("li",{key:t.key},r.a.createElement("button",{onClick:function(){return e.remove(t.key)}},r.a.createElement("span",null,"\xd7")),r.a.createElement("h6",null,t.data.word),r.a.createElement("p",null,t.data.backronym))})),r.a.createElement("p",{id:"display"}))))}}]),a}(n.Component),E=a(10),g=a.n(E),k=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loadingScreen"}),r.a.createElement("h4",null,"Loading..."))},C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).randomizeArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}},n.apiCharacters=function(e){e.preventDefault(),n.setState({inputCharacters:Object(m.a)(n.state.input),input:"",inputIndex:0,backronym:[],backronymIndex:-1,rejectCounter:0,loading:!0,frequency:[]},(function(){n.apiCall(n.state.inputCharacters[0])}))},n.apiCall=function(e,t){g()({url:"https://api.datamuse.com/words?",method:"GET",responseType:"json",params:{sp:"".concat(e,"*"),lc:t,md:"f"}}).then((function(t){var a=t.data;a.length>4?(n.randomizeArray(a),n.setState({apiWords:a,isGenerated:!0,loading:!1})):g()({url:"https://api.datamuse.com/words?",method:"GET",responseType:"json",params:{sp:"".concat(e,"*"),md:"f"}}).then((function(e){var t=e.data;t.length>4&&(n.randomizeArray(t),n.setState({apiWords:t,isGenerated:!0,loading:!1}))}))}))},n.handleChange=function(e){n.setState({input:e.target.value})},n.accept=function(){var e=n.state.backronym;e.push(n.state.apiWords[n.state.rejectCounter].word);var t=n.state.frequency,a=n.state.apiWords[n.state.rejectCounter].tags[0],r=parseFloat(a.substring(2));t.push(r),n.setState({backronym:e,frequency:t,rejectCounter:0,backronymIndex:n.state.backronymIndex+1,inputIndex:n.state.inputIndex+1},(function(){if(n.apiCall(n.state.inputCharacters[n.state.inputIndex],n.state.backronym[n.state.backronymIndex]),n.state.backronym.length===n.state.inputCharacters.length){var e=f.database().ref("displayBoard"),t={word:n.state.inputCharacters.join(""),backronym:n.state.backronym.join(" ")};e.push(t),document.getElementById("display").scrollIntoView({behavior:"smooth"})}}))},n.reject=function(){n.state.rejectCounter===n.state.apiWords.length-1?n.setState({rejectCounter:0}):n.setState({rejectCounter:n.state.rejectCounter+1})},n.handleRedo=function(){n.setState({inputIndex:0,backronym:[],backronymIndex:-1,rejectCounter:0,frequency:[],displayOrCollection:!0},(function(){n.apiCall(n.state.inputCharacters[n.state.inputIndex])}))},n.handleSave=function(){var e=f.database().ref("userCollection"),t={word:n.state.inputCharacters.join(""),backronym:n.state.backronym.join(" "),email:n.props.userEmail};e.push(t)},n.displayOrCollection=function(){var e=!n.state.displayOrCollection;n.setState({displayOrCollection:e})},n.state={input:"",inputCharacters:[],inputIndex:0,apiWords:[],backronym:[],backronymIndex:-1,frequency:[],displayArray:[],rejectCounter:0,loading:!1,isGenerated:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search gridParent"},r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"controlsGap"},r.a.createElement("button",{className:"authButton primeButton",onClick:this.props.logOut},"Log Out"),r.a.createElement("h3",null,"Backronym"),r.a.createElement("form",{action:"submit",onSubmit:function(t){return e.apiCharacters(t)}},r.a.createElement("label",{htmlFor:"input"},"Enter a word"),r.a.createElement("input",{placeholder:"eg: bird",type:"text",value:this.state.input,pattern:"^[A-Za-z]{3,10}$",title:"Enter a word between 3 and 10 characters in length",required:!0,id:"input",onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"generate lightButton"},"Generate")),r.a.createElement("button",{className:"secondaryControlButtons primeButton",onClick:function(){return e.handleRedo()}},"Redo"),r.a.createElement("button",{disabled:this.state.backronym.length<this.state.inputCharacters.length,className:"secondaryControlButtons secondarySButton",onClick:function(){return e.handleSave()}},"Save"))),r.a.createElement("div",{className:"results"},r.a.createElement("div",{className:"resultsGap"},this.state.isGenerated?this.state.backronym.length<this.state.inputCharacters.length?r.a.createElement(d,{word:this.state.apiWords[this.state.rejectCounter].word,accept:this.accept,reject:this.reject}):r.a.createElement(p,{frequency:this.state.frequency}):null,this.state.loading?r.a.createElement(k,null):r.a.createElement("ul",{className:"words"},this.state.backronym.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("div",{className:"collectionButtons"},this.state.displayOrCollection?r.a.createElement("button",{className:"collection secondarySButton",onClick:function(){return e.displayOrCollection()}},"Recent"):r.a.createElement("button",{className:"collection primeButton",onClick:function(){return e.displayOrCollection()}},"Your Collection"))),this.state.displayOrCollection?r.a.createElement(v,null):r.a.createElement(b,null)))}}]),a}(n.Component),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"gridParent"},r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"controlsGap"},r.a.createElement("h1",null,"BACKRONYM"),r.a.createElement("button",{className:"authButton secondarySButton",onClick:this.props.logIn},"Log In"),r.a.createElement("button",{className:"authButton lightButton",onClick:this.props.guest},"Guest"))),r.a.createElement("div",{className:"hero"}))}}]),a}(n.Component),O=(a(52),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).login=function(){var t=f.auth(),a=new f.auth.GoogleAuthProvider;t.signInWithPopup(a).then((function(t){var a=t.user;e.setState({user:a,email:a.email})}))},e.logout=function(){f.auth().signOut().then((function(){e.setState({user:null})}))},e.guest=function(){var t=f.auth();console.log(e.state.user),t.signInAnonymously().catch((function(t){t.code,t.message;e.setState({email:"anon@anon.com"})}))},e.state={user:null,email:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.auth().onAuthStateChanged((function(t){if(t){var a=t.email?t.email:"anon@anon.com";e.setState({user:t,email:a}),console.log(a)}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},this.state.user?r.a.createElement(C,{logOut:this.logout,userEmail:this.state.email}):r.a.createElement(j,{logIn:this.login,guest:this.guest}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.adac55c4.chunk.js.map